<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"/>

		<title>Stream Viewer</title>
	</head>
	<body>
		<div class="container">
			<header>
				<h1>Stream Viewer</h1>
				<p class="subtitle">Live screen streaming with real-time information</p>
			</header>

			<div class="stream-wrapper" id="stream-wrapper">
				<div id="stream-container">
					<div id="placeholder" class="placeholder">
						<svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
						</svg>
						<span>Connecting to stream...</span>
					</div>

					<canvas id="video-canvas" style="display:none; width:100%; height:100%;"></canvas>
					<img id="debug-frame" style="display:none; width:320px;" alt="WS JPEG frame">

					<div class="overlay-controls">
						<button id="fullscreen-button" class="btn btn-icon" title="Toggle fullscreen">
							<svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5" />
							</svg>
						</button>
					</div>
				</div>

				<div class="controls-bar">
					<div class="controls">
						<button id="stop-button" class="btn btn-danger">
							<svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z" />
							</svg>
							Stop Streaming
						</button>
					</div>
					<p id="status" class="connecting">Connecting to stream...</p>
				</div>
			</div>

			<div id="stream-info" class="stream-info">
				<div class="info-grid">
					<div class="info-item">
						<span class="info-label">Resolution</span>
						<span id="resolution" class="info-value">-</span>
					</div>
					<div class="info-item">
						<span class="info-label">Frame Rate</span>
						<span id="framerate" class="info-value">-</span>
					</div>
					<div class="info-item">
						<span class="info-label">Stream Duration</span>
						<span id="duration" class="info-value">-</span>
					</div>
					<div class="info-item">
						<span class="info-label">Connection Status</span>
						<span id="connection" class="info-value">Connecting...</span>
					</div>
				</div>
			</div>
		</div>

		<script src="{{ url_for('static', filename='js/script.js') }}"></script>
	</body>
</html>