cmake_minimum_required (VERSION 3.30)
project (screen-broadcaster VERSION 0.1.0 LANGUAGES CXX)

set (CMAKE_CXX_STANDARD 17)
set (CMAKE_CXX_STANDARD_REQUIRED ON)

set (CMAKE_ARCHIVE_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/lib")
set (CMAKE_LIBRARY_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/bin")
set (CMAKE_RUNTIME_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/bin")

set (SB_VERSION_MAJOR ${PROJECT_VERSION_MAJOR} CACHE INTERNAL "")
set (SB_VERSION_MINOR ${PROJECT_VERSION_MINOR} CACHE INTERNAL "")
set (SB_VERSION_PATCH ${PROJECT_VERSION_PATCH} CACHE INTERNAL "")

option (LOG_ENABLED "Enables logging." ON)
option (LOG_ATTACH_CONSOLE "Enables console logging." ON)

add_subdirectory(common)
add_subdirectory(dropper)
add_subdirectory(recorder)